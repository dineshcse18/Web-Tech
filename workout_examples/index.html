<h3>QUESTION:- Design a HTML form with four necessary fields like name, rollno, date of birth, mobile number and email id. Write PHP program to validate the name (start with alphabet and followed by atleast three character), rollno number (exactly in this format: 16CSR288), mobile number (start with 9 or 8, exactly 10 digits) and email address(start with alphabet followed by alphanumeric character and support for edu, in, com). The student details must be stored in database by clicking submit button and retrieved the details by clicking view result button.
</h3>
&lthtml&gt<br>
&lthead&gt<br>
&lttitle&gtpreg_match&lt/title&gt<br>
&lt/head&gt<br>
&ltbody&gt<br>
&ltform method="post"&gt<br>
NAME:&ltinput type="text"name="name"&gt&ltbr&gt&ltbr&gt<br>
ROLL NUM:&ltinput type="text"name="roll"&gt&ltbr&gt&ltbr&gt<br>
DOB:&ltinput type="text"name="dob"&gt&ltbr&gt&ltbr&gt<br>
MOBILE:&ltinput type="text"name="mob"&gt&ltbr&gt&ltbr&gt<br>
MAIL:&ltinput type="text"name="mail"&gt&ltbr&gt&ltbr&gt<br>
&ltinput type="submit"value="check" name="submit"&gt<br>
&lt/form&gt<br>
&lt?php<br>
	$servername='localhost'; <br>
	$user = 'root'; <br>
	$password = ''; <br>
	$mysql_database = 'lab'; <br>
	$db = mysqli_connect($servername, $user, $password,$mysql_database); <br>
	if (!$db) <br>
	{<br>
      die("Connection failed: " . mysqli_connect_error());<br>
	}<br>
if (isset($_POST['submit'])) <br>
{<br>
	$name=$_POST['name']; <br>
	$roll=$_POST['roll']; <br>
	$mob=$_POST['mob']; <br>
	$mail=$_POST['mail']; <br>
	if(preg_match("/\b^[[:alpha:]]{3,}\b/",$name)) <br>
		{<br>
		echo "Correct name&ltbr&gt";<br>
		}<br>
	else<br>
	{	<br>
		echo "Wrong name&ltbr&gt";<br>
		echo"can't store&ltbr&gt";<br>
		die; <br>
	}<br>
	if(preg_match("/\b[[:digit:]]{2}[[:alpha:]]{3}[[:digit:]]{3}\b/",$roll)) <br>
		{<br>
		echo "Correct roll&ltbr&gt";<br>
		}<br>
	else<br>
	{	<br>
		echo "Wrong rollnum&ltbr&gt";<br>
		echo"can't store&ltbr&gt";<br>
		die; <br>
	}<br>
	if(preg_match("/^(8|9)[[:digit:]]{9}$/",$mob)) <br>
		{<br>
		echo "Correct mobile num&ltbr&gt";<br>
		}<br>
	else<br>
	{<br>
		echo "Wrong ph num&ltbr&gt";<br>
		echo"can't store&ltbr&gt";<br>
		die; <br>
	}<br>
	if(preg_match('/^[A-z0-9_\-]+[@][A-z0-9_\-]+([.][A-z0-9_\-]+)+[A-z.]{2,4}$/', $mail)) <br>
		{<br>
		echo "Correct email";<br>
		}<br>
	else<br>
	{<br>
		echo "Wrong email&ltbr&gt";<br>
		echo"can't store&ltbr&gt";<br>
		die; <br>
	}<br>
	
	$sql="INSERT INTO q1(name,roll,ph,mail) VALUES('$name','$roll','$mob','$mail')"; <br>
		if(mysqli_query($db,$sql)){ <br>
				echo "Successful";<br>
			}<br>
			else{<br>
				echo "&ltscript type='text/javascript'&gtalert('Not stored');&lt/script&gt";exit; <br>
			}<br>
			
}<br>
if (isset($_POST['retrive']))<br>
    {     <br>
	
		$sql1="SELECT * from q1";<br>
		$query=mysqli_query($db,$sql1); <br>
		echo "&lttable border=1&gt";<br>
				echo "&lttr&gt&ltth&gtName&lt/th&gt&ltth&gtRoll num&lt/th&gt&ltth&gtPhone num&lt/th&gt&ltth&gtMail&lt/th&gt&lt/tr&gt";<br>
		if((mysqli_num_rows($query))!=0) <br>
		{<br>
			while ($row = mysqli_fetch_assoc($query)) <br>
			{<br>
				
				echo "&lttr&gt&lttd&gt".$row["name"]."&lt/td&gt&lttd&gt".$row["roll"]."&lt/td&gt&lttd&gt".$row["ph"]."&lt/td&gt&lttd&gt".$row["mail"]."&lt/td&gt&lt/tr&gt";<br>
				
			}<br>
		}<br>
		else<br>
		{<br>
			echo "0 results";<br>
		}<br>
	}<br>

?&gt<br>
&lt/body&gt<br>
&lt/html&gt<br><h2>OUTPUT</h2>
<img src="a1.jpg"><br>
<img src="a2.jpg"><br>
<img src="a3.jpg"><br>
<img src="a4.jpg"><br>
<img src="a5.jpg"><br>
<img src="a6.jpg"><br>
<h2>QUESTION:-2.      Create the PHP script called test.php which contains string $Given=”Web technology has client and server scripting”. The script perform the following tasks

a.       Find the word that ends with ‘ing’ in $Given and store it in $match[0].

b.      Search for the word that begins with ‘t’ and ends with ‘y’ in $Given and store it in $match[1]

c.       Find the word that has third character as ‘i’ and store the results in $match[2] and so on.

d.      Display the results in $match

e.       Check the word client is available in the $Given using strcmp.</h2>
&lt?php<br>
$c=0;<br>
$s="web technology has client and server scripting ";<br>
if(preg_match("/\b[[:alpha:]]*ing\b/",$s,$match)) <br>
{<br>
	$m[]=$match[0]; <br>
	echo "word ends with ing is:".$match[0]."&ltbr&gt";<br>
}<br>
if(preg_match("/\b t[[:alpha:]]*y\b/",$s,$match)) <br>
{<br>
	
	$match[1]= $match[0]; <br>
	$m[]=$match[1]; <br>
	echo "word begins with t and ends y is:".$match[1]."&ltbr&gt";<br>
}<br>
if(preg_match("/\b [[:alpha:]]{2}[i][[:alpha:]]*\b/",$s,$match)) <br>
{<br>
	$match[2]= $match[0]; <br>
	$m[]=$match[2]; <br>
	echo "word with 3rd letter i:".$match[2]."&ltbr&gt";<br>
}<br>
echo"The words stored in match&ltbr&gt";<br>
for($i=0;$i&ltcount($m);$i++)<br>
	echo "$m[$i]"."&ltbr&gt";<br>
$g=preg_split("/ /",$s);<br>
for($i=0;$i&ltcount($s);$i++)<br>
{<br>
	if(strcmp($s[$i],"client")==0) <br>
		$c=1;<br>
}<br>
if($c==1)<br>
		echo "The word client is available in the given string<br>";<br>
else<br>
		echo "The word client is not available in the given string";<br>
		

?&gt
<h3>OUTPUT</h3>
<img src="b1.jpg">
<h3>QUESTION:-1.      Create a registration form for online hotel reservation system  with fields such as first name, middle name, last name, email, phone number, date of birth, date of booking, type of room (drop down list). The form has reserve, update, cancel and view button with appropriate features to manipulate in the database. Also, the calculate the billing amount (including tax) and store the Database.</h3>
&lthtml&gt<br>
&lthead&gt<br>
&lttitle&gtquest 2&lt/title&gt<br>
&lt/head&gt<br>
&ltbody&gt<br>
&ltform method="post"&gt<br>
FIRST NAME:&ltinput type="text"name="fname"&gt&ltbr&gt&ltbr&gt<br>
MIDDLE NAME:&ltinput type="text"name="mname"&gt&ltbr&gt&ltbr&gt<br>
LAST NAME:&ltinput type="text"name="lname"&gt&ltbr&gt&ltbr&gt<br>
EMAIL:&ltinput type="text"name="mail"&gt&ltbr&gt&ltbr&gt<br>
PHONE NUMBER:&ltinput type="text"name="ph"&gt&ltbr&gt&ltbr&gt<br>
D.O.B:&ltinput type="date"name="dob"&gt&ltbr&gt&ltbr&gt<br>
TYPE OF ROOM:&ltselect name="type"&gt<br>
&ltoption&gtAC&lt/option&gt<br>
&ltoption&gtNON-AC&lt/option&gt<br>
&ltoption&gtSINGLE&lt/option&gt<br>
&ltoption&gtDOUBLE&lt/option&gt<br>
&lt/select&gt&ltbr&gt&ltbr&gt<br>
NUMBER OF ROOMS:&ltinput type="text"name="no"&gt&ltbr&gt&ltbr&gt<br>
&ltinput type="submit"value="Reserve" name="reserve"&gt<br>
&ltinput type="submit"value="Edit" name="edit"&gt<br>
&ltinput type="submit"value="Cancel" name="cancel"&gt<br>
&ltinput type="submit"value="View" name="view"&gt<br>
&lt/form&gt<br>
&lt?php<br>
	$servername='localhost'; <br>
	$user = 'root'; <br>
	$password = ''; <br>
	$mysql_database = 'lab'; <br>
	$db = mysqli_connect($servername, $user, $password,$mysql_database); <br>
	if (!$db) <br>
	{<br>
      die("Connection failed: " . mysqli_connect_error());<br>
	}<br>
	if (isset($_POST['reserve'])) <br>
	{<br>
		$fname=$_POST['fname']; <br>
		$mname=$_POST['mname']; <br>
		$lname=$_POST['lname']; <br>
		$email=$_POST['mail']; <br>
		$ph=$_POST['ph']; <br>
		$dob=$_POST['dob']; <br>
		$room=$_POST['type']; <br>
		$num=$_POST['no']; <br>
		if($room=="AC")<br>
		{<br>
			$amt=$num*15000; <br>
			$gst=$amt+($amt*0.02); <br>
			echo"Total amt including tax:$gst";<br>
		}<br>
		if($room=="NON-AC")<br>
		{<br>
			$amt=$num*1200; <br>
			$gst=$amt+($amt*0.02); <br>
			echo"Total amt including tax:$gst";<br>
		}<br>
		if($room=="SINGLE")<br>
		{<br>
			$amt=$num*750; <br>
			$gst=$amt+($amt*0.02); <br>
			echo"Total amt including tax:$gst";<br>
		}<br>
		if($room=="DOUBLE")<br>
		{<br>
			$amt=$num*900; <br>
			$gst=$amt+($amt*0.02); <br>
			echo"Total amt including tax:$gst";<br>
		}<br>
		$sql="INSERT INTO wt(fname,mname,lname,email,ph,dob,room,num,amt) VALUES('$fname','$mname','$lname','$email','$ph','$dob','$room','$num',$gst)"; <br>
		
		
		if(mysqli_query($db,$sql)){ <br>
				echo "&ltbr&gtSuccessful";<br>
			}<br>
			else{<br>
				echo "&ltscript type='text/javascript'&gtalert('Not stored');&lt/script&gt";exit; <br>
			}<br>
	}<br>
	if (isset($_POST['edit'])) <br>
	{<br>
		$fname=$_POST['fname']; <br>
		$mname=$_POST['mname']; <br>
		$lname=$_POST['lname']; <br>
		$email=$_POST['mail']; <br>
		$ph=$_POST['ph']; <br>
		$dob=$_POST['dob']; <br>
		$room=$_POST['type']; <br>
		$num=$_POST['no']; <br>
		if($room=="AC")<br>
		{<br>
			$amt=$num*15000; <br>
			$gst=$amt+($amt*0.02); <br>
			echo"Total amt including tax:$gst";<br>
		}<br>
		if($room=="NON-AC")<br>
		{<br>
			$amt=$num*1200; <br>
			$gst=$amt+($amt*0.02); <br>
			echo"Total amt including tax:$gst";<br>
		}<br>
		if($room=="SINGLE")<br>
		{<br>
			$amt=$num*750; <br>
			$gst=$amt+($amt*0.02); <br>
			echo"Total amt including tax:$gst";<br>
		}<br>
		if($room=="DOUBLE")<br>
		{<br>
			$amt=$num*900; <br>
			$gst=$amt+($amt*0.02); <br>
			echo"Total amt including tax:$gst";<br>
		}<br>
		$sq = "UPDATE  wt SET  fname='$fname',mname='$mname',lname='$lname',ph='$ph',dob='$dob',room='$room',num='$num',amt='$gst' where email='$email'";<br>
		if(mysqli_query($db,$sq)){ <br>
		echo "&ltbr&gt*****updated*****";<br>
		}<br>
		
	}<br>
	if (isset($_POST['cancel'])) <br>
		{<br>
			$mail=$_POST['mail']; <br>
			$sq2 = "DELETE  FROM wt WHERE email='$mail'";<br>
			mysqli_query($db,$sq2); <br>
			echo "*****deleted*****";<br>
		}<br>
	if (isset($_POST['view'])) <br>
    {     <br>
	
		$sql1="SELECT * from wt";<br>
		$query=mysqli_query($db,$sql1); <br>
		echo "&lttable border=1&gt";<br>
				echo "&lttr&gt&ltth&gtFirst Name&lt/th&gt&ltth&gtMiddle Name&lt/th&gt&ltth&gtLast Name&lt/th&gt&ltth&gtMail&lt/th&gt&ltth&gtPhone num&lt/th&gt&ltth&gtDOB&lt/th&gt&ltth&gtRoom Type&lt/th&gt&ltth&gtNum of Rooms&lt/th&gt&ltth&gtTotal Amt&lt/th&gt&lt/tr&gt";<br>
		if((mysqli_num_rows($query))!=0) <br>
		{<br>
			while ($row = mysqli_fetch_assoc($query)) <br>
			{<br>
				
				echo "&lttr&gt&lttd&gt".$row["fname"]."&lt/td&gt&lttd&gt".$row["mname"]."&lt/td&gt&lttd&gt".$row["lname"]."&lt/td&gt&lttd&gt".$row["email"]."&lt/td&gt&lttd&gt".$row["ph"]."&lt/td&gt&lttd&gt".$row["dob"]."&lt/td&gt&lttd&gt".$row["room"]."&lt/td&gt&lttd&gt".$row["num"]."&lt/td&gt&lttd&gt".$row["amt"]."&lt/td&gt&lt/tr&gt";<br>
				
			}<br>
		}<br>
		else<br>
		{<br>
			echo "0 results";<br>
		}<br>
	}<br>
	mysqli_close($db); <br>
?&gt<br>
&lt/body&gt<br>
&lt/html&gt<br>
<h3>OUTPUT</h3>
<img src="c1.jpg">
<img src="c2.jpg">
<img src="c3.jpg">
<img src="c4.jpg">
<h2>LAB QUSTIONS:</h2>
<h3>QUEST 10:-</h3>
<img src="quest10.jpg"><br><br>
&lt?php<br>
session_start();<br>
if (isset($_POST['submit'])) <br>
{<br>
$_SESSION["name1"] = $_POST['name']; <br>
$_SESSION["email1"] = $_POST['email']; <br>
echo "This session is handled by :".$_SESSION["name1"]." "."with email id:" . $_SESSION["email1"]." ";<br>
session_destroy();<br>
}<br>
?&gt<br>
&lthtml&gt<br>
&lthead&gt<br>
&ltscript&gt<br>
var asyncRequest; <br>
function getContent(url) <br>
{<br>
	try<br>
	{<br>
	asyncRequest=new XMLHttpRequest();<br>
	asyncRequest.addEventListener("readystatechange",stateChange,false); <br>
	asyncRequest.open("GET",url,true); <br>
	asyncRequest.send(null); <br>
	}<br>
	catch(Exception) <br>
	{<br>
	alert('request failed'); <br>
	}<br>
}<br>

function stateChange()<br>
{<br>
	if(asyncRequest.readyState==4&&asyncRequest.status==200) <br>
	{<br>
		document.getElementById('a').innerHTML=asyncRequest.responseText; <br>
	}<br>
}<br>

	
&lt/script&gt<br>
&lt/head&gt<br>
&ltbody&gt<br>
&ltform method="post"&gt<br>
Name:&ltinput type="text"name="name"&gt&ltbr&gt&ltbr&gt<br>
Email:&ltinput type="email"name="email"&gt&ltbr&gt&ltbr&gt<br>
&ltbr&gt<br>
&ltinput type="submit"name="submit"value="submit"&gt&ltbr&gt&ltbr&gt&ltbr&gt<br>
&ltb&gtNature:&lt/b&gt&ltbr&gt&ltbr&gt<br>
&ltimg src="nature.jpg"height="200"width="200"id="im"onclick='getContent("a.html")'&gt<br>
&ltp id="a"&gt&lt/p&gt<br>
&lt/body&gt<br>
&lt/html&gt<br>
<h3>OUTPUT:</h3>
<img src="q10.jpg">
<h3>QUEST:-12ONLINE TICKET RESERVATION
Develop a website for Railway Reservation System. Create a database named &quot;Train&quot; with a
table &quot;User&quot; with fields &quot;Name&quot;, &quot;Train number&quot;, &quot;Phno&quot; and &quot;NoS&quot; using MYSQL. Create
the below form entries: Name (6 charecters), Train Number (4digits), Phno (10digits),
Number of Seats (non-negative) and validate the entries as mentioned. Use MySQL to store
and retrieve data appropriately.</h3>
&lthtml&gt<br>
&lthead&gt<br>
&lttitle&gtTrain&lt/title&gt<br>
&lt/head&gt<br>
&ltbody&gt<br>
&ltform method="post"&gt<br>
NAME:&ltinput type="text" name="Name"&gt&ltbr&gt&ltbr&gt<br>
TRAIN NUMBER:&ltinput type="text" name="Trainnumber"&gt&ltbr&gt&ltbr&gt<br>
PHONE NO:&ltinput type="text" name="Phonenumber"&gt&ltbr&gt&ltbr&gt<br>
NO.OF SEATS:&ltinput type="text" name="Nofseats"&gt&ltbr&gt&ltbr&gt<br>
&ltinput type="submit" value="submit" name="submit"&gt<br>
&ltinput type="submit" value="Retrive" name="retrive"&gt<br>
&lt/form&gt<br>
&lt?php<br>
$servername='localhost'; <br>
$user = 'root'; <br>
$password = ''; <br>
$mysql_database = 'Train'; <br>
$db = mysqli_connect($servername, $user, $password,$mysql_database); <br>
if (!$db) <br>
{<br>
die("Connection failed: " . mysqli_connect_error());<br>
}<br>
if (isset($_POST['submit'])) <br>
{<br>
$Name=$_POST['Name']; <br>
$Trainnumber=$_POST['Trainnumber']; <br>
$Phonenumber=$_POST['Phonenumber']; <br>
$Nofseats=$_POST['Nofseats']; <br>
if(preg_match("/\b[[:alpha:]]{6,}\b/",$Name)) <br>
{<br>
echo "Correct name&ltbr&gt";<br>
}<br>
else<br>
{ <br>
echo "Wrong name&ltbr&gt";<br>
echo"can't store&ltbr&gt";<br>
die; <br>
}<br>
if(preg_match("/\b[[:digit:]]{4}\b/",$Trainnumber)) <br>
{<br>
echo "Correct Trainnumber&ltbr&gt";<br>
}<br>
else<br>
{ <br>
echo "Wrong Trainnumber&ltbr&gt";<br>
echo"can't store&ltbr&gt";<br>
die; <br>
}<br>
if(preg_match("/[[:digit:]]{10}$/",$Phonenumber)) <br>
{<br>
echo "Correct phone num&ltbr&gt";<br>
}<br>
else<br>
{<br>
echo "Wrong phone num&ltbr&gt";<br>
echo"can't store&ltbr&gt";<br>
die; <br>
}<br>
if(preg_match("/^[1-9]\d*$/",$Nofseats)) <br>
{<br>
echo "Correct seat number&ltbr&gt";<br>
}<br>
else<br>
{<br>
echo "Invalid seat number&ltbr&gt";<br>
echo"can't store&ltbr&gt";<br>
die; <br>
}<br>
$sql="INSERT INTO user(Name,Trainnumber,Phonenumber,Nofseats) VALUES('$Name','$Trainnumber','$Phonenumber','$Nofseats')"; <br>
if(mysqli_query($db,$sql)){ <br>
echo "Successful";<br>
}<br>
else{<br>
echo "&ltscript type='text/javascript'&gtalert('Not stored');&lt/script&gt";exit; <br>
}<br>
}<br>
if (isset($_POST['retrive'])) <br>
{ <br>
$sql1="SELECT * from user";<br>
$query=mysqli_query($db,$sql1); <br>
echo "&lttable border=1&gt";<br>
echo "&lttr&gt&ltth&gtName&lt/th&gt&ltth&gtTrainnumber&lt/th&gt&ltth&gtPhonenumber&lt/th&gt&ltth&gtNofseats&lt/th&gt&lt/tr&gt";<br>
if((mysqli_num_rows($query))!=0) <br>
{<br>
while ($row = mysqli_fetch_assoc($query)) <br>
{<br>
echo <br>"&lttr&gt&lttd&gt".$row["Name"]."&lt/td&gt&lttd&gt".$row["Trainnumber"]."&lt/td&gt&lttd&gt".$row["Phonenumber"]."&lt/td&gt&lttd&gt".$row["Nofseats"]."&lt/td&gt&lt/tr&gt";<br>
}<br>
}<br>
else<br>
{<br>
echo "0 results";<br>
}<br>
}<br>
?&gt<br>
&lt/body&gt<br>
&lt/html&gt<br>
<h3>OUTPUT:</h3>
<img src="train1.png"><br>
<img srsc="train2.png">
